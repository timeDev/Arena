(function(){var e=function(c,b){return function(){return c.apply(b,arguments)}};this.sexhr=function(){function c(){this.kill=e(this.kill,this);this.req=e(this.req,this)}c.prototype.xhr=new XMLHttpRequest;c.prototype.req=function(b){var c,a,f,e,g,h,k,l,m,n,p,q,r,s;a={url:null!=(f=b.url)?f:null,method:null!=(e=b.method)?e:"get",json:null!=(k=b.json)?k:null,body:null!=(l=b.body)?l:null,mime:null!=(m=b.mime)?m:null,timeout:null!=(n=b.timeout)?n:0,headers:null!=(p=b.headers)?p:null,username:null!=(q=b.username)?
q:null,password:null!=(r=b.password)?r:null,async:null!=(s=b.async)?s:!0,success:null!=(g=b.success)?g:null,error:null!=(h=b.success)?h:null};if("function"===typeof a.success){if("function"===typeof a.error){this.xhr.addEventListener("abort",function(d){console.log("[SeXHR] Request aborted.");return a.success({abort:!0})},!1);this.xhr.addEventListener("error",function(d){console.log("[SeXHR] Request error.");return a.error({error:!0})},!1);this.xhr.addEventListener("load",function(d){console.log("[SeXHR] Request loaded.");
d={text:this.responseText,status:this.statusCode,headers:this.getAllResponseHeaders().split("\n")};a.json&&(d.json=JSON.parse(d.text));return 99<d.status&&400>d.status?a.success(d):a.error(d)},!1);this.xhr.addEventListener("loadstart",function(a){return console.log("[SeXHR] Request initiated.")},!1);this.xhr.addEventListener("progress",function(a){if(a.lengthComputable)return console.log("[SeXHR] Request progress: "+a.loaded/a.total*100+"% ("+a.loaded+" bytes / "+a.total+" bytes)")},!1);this.xhr.addEventListener("timeout",
function(b){console.log("[SeXHR] Request timed out.");return a.error({timeout:!0})},!1);this.xhr.addEventListener("loadend",function(a){return console.log("[SeXHR] Request completed.")},!1);if(a.url){a.username&&a.password?this.xhr.open(a.method,a.url,a.async,a.username,a.password):this.xhr.open(a.method,a.url,a.async);0<a.timeout&&a.async&&(this.xhr.timeout=a.timeout);if(null!=a.headers)for(c in f=a.headers,f)b=f[c],this.xhr.setRequestHeader(c,b);null!=a.mime&&this.xhr.overrideMimeType(a.mime);this.xhr.setRequestHeader("X-Requested-With",
"XMLHttpRequest");return this.xhr.send(a.body)}return console.error("[SeXHR] Request `url` is undefined.")}return console.error("[SeXHR] Request `error` handler is undefined.")}return console.error("[SeXHR] Request `success` handler is undefined.")};c.prototype.kill=function(){return this.xhr.abort()};return c}()}).call(this);
